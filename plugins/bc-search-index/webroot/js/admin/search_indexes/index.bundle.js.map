{"version":3,"file":"admin/search_indexes/index.bundle.js","mappings":";;;;;;;;;AAWAA,GAAE,WAEEA,EAAE,mBAAmBC,OAAM,WASvB,OARAD,EAAEE,UAAUC,KAAK,CACbC,MAAOC,OAAOC,uBACdC,QAASF,OAAOG,yBAChBC,GAAI,WACAT,EAAEU,OAAOC,aACTC,SAASC,KAAOb,EAAE,mBAAmBc,KAAK,OAC7C,KAEE,CACV,IAKDd,EAAE,aAAae,QAAO,WAClB,IAAIC,EAAKC,KAAKD,GAAGE,QAAQ,sBAAuB,IAC5CC,EAAWnB,EAAEiB,MAAMG,MACvBpB,EAAEqB,QAAQC,OAAM,WACZ,IAAIC,EAAO,CACP,wBAAyBP,EACzB,8BAA+BG,EAC/B,oBAAqBnB,EAAEqB,QAAQG,KAEnC,OAAOxB,EAAEyB,KAAK,CACVC,KAAM,OACNC,IAAK3B,EAAE,0BAA0B4B,OAAS,IAAMZ,EAChDO,KAAMA,EACNM,WAAY,WACR7B,EAAE,iBAAiB8B,UACnB9B,EAAE,sBAAwBgB,GAAIb,MACjC,EACD4B,QAAS,SAAUC,GACVA,IACDhC,EAAE,iBAAiB4B,KAAK,mBACxB5B,EAAE,iBAAiBiC,YAE1B,EACDC,MAAO,WACHlC,EAAE,iBAAiB4B,KAAK,mBACxB5B,EAAE,iBAAiBiC,WACtB,EACDE,SAAU,WACNnC,EAAE,sBAAwBgB,GAAIoB,MACjC,GAER,GACJ,IAEDpC,EAAE,sBAAsBe,QAAO,WAC3Bf,EAAEyB,KAAK,CACHE,IAAK3B,EAAEU,OAAO2B,WAATrC,+CAA4EA,EAAEiB,MAAMG,MACzFM,KAAM,MACNY,SAAU,OACVT,WAAY,WACR7B,EAAE,4BAA4BG,OAC9BH,EAAE,wBAAwBuC,KAAK,YAAY,EAC9C,EACDJ,SAAU,WACNnC,EAAE,wBAAwBwC,WAAW,YACrCxC,EAAE,4BAA4BoC,MACjC,EACDL,QAAS,SAAUC,GACfhC,EAAE,wBAAwByC,QAC1B,IAAIC,EAAc,GAElB,IAAKlB,OADLkB,EAAYC,KAAK,IAAIC,OAAO,OAAQ,KACxBZ,EACRU,EAAYC,KAAK,IAAIC,OAAOZ,EAAOa,KAAKrB,KAAKN,QAAQ,UAAW,KAAWM,MAE/ExB,EAAE,wBAAwB8C,OAAOJ,EACpC,GAER,GACJ","sources":["webpack://bc-search-index/./src/js/admin/search_indexes/index.js"],"sourcesContent":["/**\n * baserCMS :  Based Website Development Project <https://basercms.net>\n * Copyright (c) baserCMS Permission Community <https://basercms.net/community/>\n *\n * @copyright     Copyright (c) baserCMS Permission Community\n * @link          https://basercms.net baserCMS Project\n * @since         5.0.0\n * @license       https://basercms.net/license/index.html MIT License\n */\n\n\n$(function () {\n\n    $(\"#BtnReconstruct\").click(function () {\n        $.bcConfirm.show({\n            title: bcI18n.reconstructSearchTitle,\n            message: bcI18n.reconstructSearchMessage,\n            ok: function () {\n                $.bcUtil.showLoader();\n                location.href = $(\"#BtnReconstruct\").attr('href');\n            }\n        });\n        return false;\n    });\n\n    // 《一覧のロード時にイベント登録を行う為、外部ファイルに分けない》\n    // 本来であれば、一覧のロード完了イベントを作成し、\n    // そのタイミングでイベント登録をすべきだが、ロード完了イベントがないので応急措置とする\n    $(\".priority\").change(function () {\n        var id = this.id.replace('SearchIndexPriority', '');\n        var priority = $(this).val();\n        $.bcToken.check(function () {\n            var data = {\n                'data[SearchIndex][id]': id,\n                'data[SearchIndex][priority]': priority,\n                'data[_Token][key]': $.bcToken.key\n            };\n            return $.ajax({\n                type: \"POST\",\n                url: $(\"#AjaxChangePriorityUrl\").html() + '/' + id,\n                data: data,\n                beforeSend: function () {\n                    $(\"#flashMessage\").slideUp();\n                    $(\"#PriorityAjaxLoader\" + id).show();\n                },\n                success: function (result) {\n                    if (!result) {\n                        $(\"#flashMessage\").html('処理中にエラーが発生しました。');\n                        $(\"#flashMessage\").slideDown();\n                    }\n                },\n                error: function () {\n                    $(\"#flashMessage\").html('処理中にエラーが発生しました。');\n                    $(\"#flashMessage\").slideDown();\n                },\n                complete: function () {\n                    $(\"#PriorityAjaxLoader\" + id).hide();\n                }\n            });\n        });\n    });\n\n    $(\"#SearchIndexSiteId\").change(function () {\n        $.ajax({\n            url: $.bcUtil.apiBaseUrl + 'baser-core' + '/contents/get_content_folder_list/' + $(this).val(),\n            type: \"GET\",\n            dataType: \"json\",\n            beforeSend: function () {\n                $(\"#SearchIndexSiteIdLoader\").show();\n                $(\"#SearchIndexFolderId\").prop('disabled', true);\n            },\n            complete: function () {\n                $(\"#SearchIndexFolderId\").removeAttr(\"disabled\");\n                $(\"#SearchIndexSiteIdLoader\").hide();\n            },\n            success: function (result) {\n                $(\"#SearchIndexFolderId\").empty();\n                var optionItems = [];\n                optionItems.push(new Option(\"指定なし\", \"\"));\n                for (key in result) {\n                    optionItems.push(new Option(result.list[key].replace(/&nbsp;/g, \"\\u00a0\"), key));\n                }\n                $(\"#SearchIndexFolderId\").append(optionItems);\n            }\n        });\n    });\n});\n"],"names":["$","click","bcConfirm","show","title","bcI18n","reconstructSearchTitle","message","reconstructSearchMessage","ok","bcUtil","showLoader","location","href","attr","change","id","this","replace","priority","val","bcToken","check","data","key","ajax","type","url","html","beforeSend","slideUp","success","result","slideDown","error","complete","hide","apiBaseUrl","dataType","prop","removeAttr","empty","optionItems","push","Option","list","append"],"sourceRoot":""}